<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Thai TV Player - Enhanced</title>
  <link href="https://vjs.zencdn.net/8.10.0/video-js.css" rel="stylesheet" />
  <script src="https://vjs.zencdn.net/8.10.0/video.min.js"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    }
    
    body {
      background: linear-gradient(135deg, #1a2a6c, #b21f1f, #1a2a6c);
      color: white;
      min-height: 100vh;
      padding: 20px;
    }
    
    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 20px;
    }
    
    header {
      text-align: center;
      margin-bottom: 30px;
      padding: 20px;
      background: rgba(0, 0, 0, 0.3);
      border-radius: 15px;
      box-shadow: 0 10px 20px rgba(0, 0, 0, 0.3);
      border: 1px solid rgba(255, 255, 255, 0.1);
    }
    
    h1 {
      font-size: 2.8rem;
      margin-bottom: 10px;
      text-shadow: 0 0 10px rgba(255, 255, 255, 0.5);
      background: linear-gradient(to right, #ff8a00, #da1b60);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }
    
    .subtitle {
      font-size: 1.2rem;
      opacity: 0.8;
      margin-bottom: 20px;
    }
    
    .main-content {
      display: flex;
      gap: 30px;
      margin-bottom: 30px;
      flex-wrap: wrap;
    }
    
    .player-section {
      flex: 3;
      min-width: 300px;
      background: rgba(0, 0, 0, 0.3);
      border-radius: 15px;
      padding: 20px;
      box-shadow: 0 10px 20px rgba(0, 0, 0, 0.3);
      border: 1px solid rgba(255, 255, 255, 0.1);
    }
    
    .controls-section {
      flex: 1;
      min-width: 250px;
      background: rgba(0, 0, 0, 0.3);
      border-radius: 15px;
      padding: 20px;
      box-shadow: 0 10px 20px rgba(0, 0, 0, 0.3);
      border: 1px solid rgba(255, 255, 255, 0.1);
    }
    
    .channel-list {
      background: rgba(0, 0, 0, 0.2);
      border-radius: 10px;
      padding: 15px;
      max-height: 400px;
      overflow-y: auto;
    }
    
    .channel-btn {
      display: block;
      width: 100%;
      padding: 12px 15px;
      margin-bottom: 10px;
      background: rgba(255, 255, 255, 0.1);
      color: white;
      border: none;
      border-radius: 8px;
      text-align: left;
      cursor: pointer;
      transition: all 0.3s ease;
      font-size: 1rem;
    }
    
    .channel-btn:hover {
      background: rgba(255, 255, 255, 0.2);
      transform: translateX(5px);
    }
    
    .channel-btn.active {
      background: linear-gradient(to right, #ff8a00, #da1b60);
      font-weight: bold;
    }
    
    .channel-btn i {
      margin-right: 10px;
      color: #ff8a00;
    }
    
    .channel-btn.active i {
      color: white;
    }
    
    .section-title {
      font-size: 1.5rem;
      margin-bottom: 15px;
      padding-bottom: 10px;
      border-bottom: 2px solid rgba(255, 255, 255, 0.2);
      color: #ff8a00;
    }
    
    .player-container {
      background: rgba(0, 0, 0, 0.5);
      border-radius: 10px;
      overflow: hidden;
      margin-bottom: 20px;
      position: relative;
    }
    
    .player-overlay {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0.7));
      display: flex;
      align-items: center;
      justify-content: center;
      flex-direction: column;
      z-index: 10;
    }
    
    .player-overlay h2 {
      font-size: 2rem;
      margin-bottom: 20px;
      color: #ff8a00;
    }
    
    .player-overlay p {
      font-size: 1.2rem;
      text-align: center;
      max-width: 80%;
    }
    
    .player-controls {
      display: flex;
      justify-content: space-between;
      gap: 10px;
      margin-top: 15px;
    }
    
    .control-btn {
      flex: 1;
      padding: 12px;
      background: rgba(255, 255, 255, 0.1);
      color: white;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      transition: all 0.3s ease;
      font-size: 1rem;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
    }
    
    .control-btn:hover {
      background: rgba(255, 255, 255, 0.2);
    }
    
    .control-btn.primary {
      background: linear-gradient(to right, #ff8a00, #da1b60);
    }
    
    .control-btn.primary:hover {
      opacity: 0.9;
    }
    
    #errorDisplay {
      background: rgba(255, 0, 0, 0.2);
      padding: 15px;
      border-radius: 8px;
      margin-top: 20px;
      display: none;
      border: 1px solid rgba(255, 0, 0, 0.5);
    }
    
    .info-section {
      display: flex;
      gap: 20px;
      margin-top: 20px;
      flex-wrap: wrap;
    }
    
    .info-card {
      flex: 1;
      min-width: 250px;
      background: rgba(0, 0, 0, 0.3);
      border-radius: 15px;
      padding: 20px;
      box-shadow: 0 10px 20px rgba(0, 0, 0, 0.3);
      border: 1px solid rgba(255, 255, 255, 0.1);
    }
    
    .info-card h3 {
      color: #ff8a00;
      margin-bottom: 15px;
      font-size: 1.3rem;
    }
    
    .info-card ul {
      padding-left: 20px;
    }
    
    .info-card li {
      margin-bottom: 10px;
      line-height: 1.5;
    }
    
    .footer {
      text-align: center;
      margin-top: 40px;
      padding: 20px;
      font-size: 0.9rem;
      opacity: 0.7;
      border-top: 1px solid rgba(255, 255, 255, 0.1);
    }
    
    @media (max-width: 768px) {
      .main-content {
        flex-direction: column;
      }
      
      .player-section, .controls-section {
        width: 100%;
      }
      
      h1 {
        font-size: 2.2rem;
      }
    }
    
    .vjs-big-play-button {
      background: rgba(218, 27, 96, 0.7) !important;
      border-radius: 50% !important;
      border: none !important;
      width: 80px !important;
      height: 80px !important;
      line-height: 80px !important;
      top: 50% !important;
      left: 50% !important;
      transform: translate(-50%, -50%) !important;
    }
    
    .vjs-big-play-button:before {
      font-size: 40px !important;
      line-height: 80px !important;
    }
    
    .loading {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      font-size: 1.5rem;
      display: none;
    }
    
    .loading i {
      animation: spin 1s linear infinite;
      margin-right: 10px;
    }
    
    @keyframes spin {
      100% { transform: rotate(360deg); }
    }
    
    .logo {
      font-size: 2.5rem;
      margin-bottom: 10px;
      color: #ff8a00;
    }
    
    .current-channel {
      background: rgba(0, 0, 0, 0.3);
      padding: 15px;
      border-radius: 10px;
      margin-bottom: 20px;
      display: flex;
      align-items: center;
      gap: 15px;
    }
    
    .current-channel i {
      font-size: 2rem;
      color: #ff8a00;
    }
    
    .channel-name {
      font-size: 1.3rem;
      font-weight: bold;
    }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <div class="logo">
        <i class="fas fa-satellite"></i>
      </div>
      <h1>HS8TV Player</h1>
      <p class="subtitle">Watch popular internet TV </p>
    </header>
    
    <div class="main-content">
      <div class="player-section">
        <h2 class="section-title"><i class="fas fa-tv"></i> Live Player</h2>
        
        <div class="current-channel">
          <i class="fas fa-broadcast-tower"></i>
          <div>
            <div>Currently Playing:</div>
            <div class="channel-name" id="currentChannel">Select a channel to begin</div>
          </div>
        </div>
        
        <div class="player-container">
          <div class="player-overlay" id="playerOverlay">
            <h2><i class="fas fa-satellite-dish"></i> Thai TV Player</h2>
            <p>Select a channel from the list to start watching live TV</p>
          </div>
          
          <div class="loading" id="loadingIndicator">
            <i class="fas fa-spinner"></i> Loading stream...
          </div>
          
          <video-js id="myPlayer" class="video-js vjs-default-skin vjs-big-play-centered" 
                    controls preload="auto" width="640" height="360">
            <source id="videoSource" src="" type="application/x-mpegURL">
          </video-js>
        </div>
        
        <div class="player-controls">
          <button class="control-btn" id="playBtn">
            <i class="fas fa-play"></i> Play
          </button>
          <button class="control-btn" id="pauseBtn">
            <i class="fas fa-pause"></i> Pause
          </button>
          <button class="control-btn" id="fullscreenBtn">
            <i class="fas fa-expand"></i> Fullscreen
          </button>
          <button class="control-btn primary" id="reloadBtn">
            <i class="fas fa-sync"></i> Reload Stream
          </button>
        </div>
        
        <div id="errorDisplay" class="text-red-500 mt-2 hidden"></div>
      </div>
      
      <div class="controls-section">
        <h2 class="section-title"><i class="fas fa-list"></i> Channels</h2>
        <div class="channel-list">
        <button class="channel-btn" data-name="Sky News Weather" data-url="https://distro001-gb-hls1-prd.delivery.skycdp.com/easel_cdn/ngrp:weather_loop.stream_all/playlist.m3u8">
            <i class="fas fa-tv"></i> Sky News Weather
          </button>
         <button class="channel-btn" data-name="Weatherspy" data-url="https://jukin-weatherspy-2-in.samsung.wurl.tv/playlist.m3u8">
            <i class="fas fa-tv"></i> Weatherspy
          </button>
          <button class="channel-btn" data-name="Channel 3" data-url="https://lb1-live-mv.v2h-cdn.com/hls/ffae/3hd/3hd.m3u8">
            <i class="fas fa-tv"></i> Channel 3
          </button>
         <button class="channel-btn" data-name="Channel 5" data-url="https://lb1-live-mv.v2h-cdn.com/hls/fffb/5hd/5hd.m3u8">            
           <i class="fas fa-tv"></i> Channel 5
          </button>
          <button class="channel-btn" data-name="Channel 7 " data-url="https://lb1-live-mv.v2h-cdn.com/hls/ffac/7hd/7hd.m3u8">
            <i class="fas fa-tv"></i> Channel 7 
          </button>
         <button class="channel-btn" data-name="Channel 9 " data-url="https://lb1-live-mv.v2h-cdn.com/hls/ffbb/mcot/mcot.m3u8">
            <i class="fas fa-tv"></i> Channel 9
          </button>
         <button class="channel-btn" data-name="Channel 11 " data-url="https://cdn-edge-ott.prd.go.th/live_vlc/smil:01f1-8b4b-971e-aa35-d5fa.smil/playlist.m3u8">
            <i class="fas fa-tv"></i> Channel 11
          </button>
          <button class="channel-btn" data-name="Thai PBS" data-url="https://lb1-live-mv.v2h-cdn.com/hls/fffd/tpbs/tpbs.m3u8">
            <i class="fas fa-tv"></i> Thai PBS
          </button>
          <button class="channel-btn" data-name="Thairath TV" data-url="https://lb1-live-mv.v2h-cdn.com/hls/ffaf/thairath/thairath.m3u8">
            <i class="fas fa-tv"></i> Thairath TV
          </button>
          <button class="channel-btn" data-name="Workpoint TV" data-url="https://lb1-live-mv.v2h-cdn.com/hls/ffcb/workpoint/workpoint.m3u8">
            <i class="fas fa-tv"></i> Workpoint TV
          </button>
          <button class="channel-btn" data-name="MONO29" data-url="https://lb1-live-mv.v2h-cdn.com/hls/ffbc/mono29/mono29.m3u8">
            <i class="fas fa-tv"></i> MONO29
          </button>
          <button class="channel-btn" data-name="PPTV HD" data-url="https://lb1-live-mv.v2h-cdn.com/hls/ffab/pptv/pptv.m3u8">
            <i class="fas fa-tv"></i> PPTV HD
          </button>
          <button class="channel-btn" data-name="Amarin TV" data-url="https://lb1-live-mv.v2h-cdn.com/hls/ffad/amarin/amarin.m3u8">
            <i class="fas fa-tv"></i> Amarin TV
          </button>
          <button class="channel-btn" data-name="GMM25" data-url="https://lb1-live-mv.v2h-cdn.com/hls/ffbf/gmm25/gmm25.m3u8">
            <i class="fas fa-tv"></i> GMM25
          </button>
          <button class="channel-btn" data-name="CH 8" data-url="https://lb1-live-mv.v2h-cdn.com/hls/ffbe/ch8/ch8.m3u8">
            <i class="fas fa-tv"></i> CH 8
          </button>
          <button class="channel-btn" data-name="สี่แยกท่าวัง" data-url="https://streaming.noc.nakhoncity.org/live/NSZ07.m3u8">
            <i class="fas fa-vial"></i>สี่แยกท่าวัง
          </button>
          <button class="channel-btn" data-name="โต้รุ่งราชบุตร" data-url="http://183.88.214.137:1935/livecctv/cctvp2c225.stream/playlist.m3u8">
            <i class="fas fa-vial"></i>โต้รุ่งราชบุตร
          </button>
         <button class="channel-btn" data-name="Test Stream" data-url="https://test-streams.mux.dev/x36xhzz/x36xhzz.m3u8">
            <i class="fas fa-vial"></i> Test Stream (HLS)
          </button>
        </div>
      </div>
    </div>
    
    <div class="info-section">
      <div class="info-card">
        <h3><i class="fas fa-info-circle"></i> About This Player</h3>
        <p>This Thai TV Player allows you to watch popular Thai television channels live from anywhere in the world. The player uses modern streaming technology to deliver high-quality video with minimal buffering.</p>
        <p>All streams are provided for educational purposes. Please ensure you have the necessary rights to view content in your region.</p>
      </div>
      
      <div class="info-card">
        <h3><i class="fas fa-wifi"></i> Connection Tips</h3>
        <ul>
          <li>Use a stable internet connection for best performance</li>
          <li>If a stream doesn't load, try selecting it again</li>
          <li>For HD channels, 5Mbps+ connection recommended</li>
          <li>Close other bandwidth-intensive applications</li>
          <li>Use the reload button if playback stalls</li>
        </ul>
      </div>
    </div>
    
    <div class="footer">
      <p>© 2023 Thai TV Player | Made with <i class="fas fa-heart" style="color:#da1b60;"></i> for Thai TV enthusiasts</p>
      <p><i class="fas fa-exclamation-circle"></i> For educational purposes only | Stream availability may vary by region</p>
    </div>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      // Player initialization
      const player = videojs('myPlayer', {
        fluid: true,
        responsive: true,
        playbackRates: [0.5, 0.75, 1, 1.25, 1.5, 2],
        html5: {
          vhs: {
            overrideNative: true,
            withCredentials: false
          },
          nativeAudioTracks: false,
          nativeVideoTracks: false
        }
      });
      
      // DOM elements
      const playerOverlay = document.getElementById('playerOverlay');
      const loadingIndicator = document.getElementById('loadingIndicator');
      const errorDisplay = document.getElementById('errorDisplay');
      const currentChannel = document.getElementById('currentChannel');
      const channelButtons = document.querySelectorAll('.channel-btn');
      const playBtn = document.getElementById('playBtn');
      const pauseBtn = document.getElementById('pauseBtn');
      const fullscreenBtn = document.getElementById('fullscreenBtn');
      const reloadBtn = document.getElementById('reloadBtn');
      
      // Current stream variables
      let currentStream = null;
      
      // Error handling
      player.on('error', () => {
        const error = player.error();
        errorDisplay.textContent = `Error: ${error?.message || 'Unable to load stream'} (Code: ${error?.code || 'UNKNOWN'})`;
        errorDisplay.style.display = 'block';
        loadingIndicator.style.display = 'none';
      });
      
      // Playback events
      player.on('play', () => {
        playerOverlay.style.display = 'none';
      });
      
      player.on('waiting', () => {
        loadingIndicator.style.display = 'block';
      });
      
      player.on('playing', () => {
        loadingIndicator.style.display = 'none';
        errorDisplay.style.display = 'none';
      });
      
      // Channel selection
      channelButtons.forEach(btn => {
        btn.addEventListener('click', () => {
          // Update UI
          channelButtons.forEach(b => b.classList.remove('active'));
          btn.classList.add('active');
          
          const channelName = btn.dataset.name;
          const channelUrl = btn.dataset.url;
          
          currentChannel.textContent = channelName;
          loadStream(channelUrl, channelName);
        });
      });
      
      // Control buttons
      playBtn.addEventListener('click', () => {
        player.play();
      });
      
      pauseBtn.addEventListener('click', () => {
        player.pause();
      });
      
      fullscreenBtn.addEventListener('click', () => {
        if (player.isFullscreen()) {
          player.exitFullscreen();
        } else {
          player.requestFullscreen();
        }
      });
      
      reloadBtn.addEventListener('click', () => {
        if (currentStream) {
          loadStream(currentStream.url, currentStream.name);
        }
      });
      
      // Stream loading function
      async function loadStream(url, name) {
        // Update current stream
        currentStream = { url, name };
        
        // Show loading
        errorDisplay.style.display = 'none';
        loadingIndicator.style.display = 'block';
        playerOverlay.style.display = 'none';
        
        try {
          // Test stream accessibility
          const isAccessible = await testStream(url);
          if (!isAccessible) {
            throw new Error('Stream is inaccessible (server issue or CORS)');
          }
          
          // Load the stream
          player.src({ src: url, type: 'application/x-mpegURL' });
          
          // Try to play automatically
          player.play().catch(err => {
            errorDisplay.textContent = `Playback failed: ${err.message}. Click play manually.`;
            errorDisplay.style.display = 'block';
            loadingIndicator.style.display = 'none';
          });
        } catch (err) {
          errorDisplay.textContent = `Error: ${err.message}`;
          errorDisplay.style.display = 'block';
          loadingIndicator.style.display = 'none';
          playerOverlay.style.display = 'flex';
        }
      }
      
      // Test stream accessibility
      async function testStream(url) {
        try {
          // Use a GET request with a Range header to avoid 403 errors
          const response = await fetch(url, {
            method: 'GET',
            headers: { Range: 'bytes=0-1' },
            mode: 'cors'
          });
          
          // Check for valid response
          return response.ok || response.status === 206;
        } catch (err) {
          console.error('Stream test failed:', err);
          return false;
        }
      }
      
      // Initialize the player with test stream
      const testBtn = document.querySelector('.channel-btn[data-name="Test Stream"]');
      testBtn.click();
    });
  </script>
</body>
</html>
